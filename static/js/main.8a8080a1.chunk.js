(this["webpackJsonpassessment-frontend-2019"]=this["webpackJsonpassessment-frontend-2019"]||[]).push([[0],{149:function(e,t,a){e.exports=a(166)},164:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(52),l=a.n(c),o=a(80),i=a(59),u=a(60),s=a(137),d=a(135),m="Something went wrong.We are working on it.Please check with Admin.",b="Something went wrong.Please check with Admin",f=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(u.a)(a,[{key:"componentDidCatch",value:function(e,t){console.debug("error ",e,t)}},{key:"render",value:function(){var e=this.state.hasError,t=this.props,a=t.children,n=t.type;return e?r.a.createElement("h1",null,n):a}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),a}(n.Component),h=a(33),E=a(26),p=a(81),O=function(e){return JSON.parse(JSON.stringify(e))},j=function(e){return null!=e&&"object"===typeof e&&!1===Array.isArray(e)},v=Object(p.a)("publishStore"),y=function(){function e(){Object(i.a)(this,e),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object(E.a)(this,v)[v]=[]}return Object(u.a)(e,[{key:"publish",value:function(e,t){if(!j(e))throw new Error("currentState should be and object");if(!j(t))throw new Error("nextState should be and object");Object(E.a)(this,v)[v].forEach((function(a){if(a.mapStateToProps){var n=null===a||void 0===a?void 0:a.mapStateToProps(e),r=a.mapStateToProps(t);c=n,l=r,JSON.stringify(c)!==JSON.stringify(l)&&a.callback(r)}else a.callback(t);var c,l}))}},{key:"subscribe",value:function(e,t){if("function"!==typeof e)throw new Error("config should be a function");if(t&&"function"!==typeof t)throw new Error("mapStateToProps config should be a function");Object(E.a)(this,v)[v].push({callback:e,mapStateToProps:t})}}]),e}(),g=Object(p.a)("store"),w=Object(p.a)("pubsub"),C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(i.a)(this,e),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,w,{writable:!0,value:void 0}),!j(t))throw new Error("initial state must be a object");Object(E.a)(this,g)[g]=t,Object(E.a)(this,w)[w]=new y}return Object(u.a)(e,[{key:"store",get:function(){return O(Object(E.a)(this,g)[g])}},{key:"add",value:function(e){if(!j(e))throw new Error("Only Objects can be added");var t=O(Object(E.a)(this,g)[g]),a=Object.assign(O(t),O(e));Object(E.a)(this,w)[w].publish(t,a),Object(E.a)(this,g)[g]=O(a)}},{key:"subscribe",value:function(e,t){Object(E.a)(this,w)[w].subscribe(e,t)}}],[{key:"getInstance",value:function(t){return e.instance||(e.instance=new e(t||{})),e.instance}}]),e}();C.instance=void 0;var k=new C,P=Object(n.createContext)(null),S=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(h.a)(a,2),l=c[0],o=c[1],i=function(e){return o(e||[])},u=function(e){return e.parts};Object(n.useEffect)((function(){k.subscribe(i,u)}),[]);var s={addPart:function(e){var t=l;t.push(e),k.add({parts:t})},partsList:l};return r.a.createElement(P.Provider,{value:s},t)},A=a(9),N=a(179),T=a(178),R=a(182),x=a(181),H=function(e){var t=e.dataid,a=e.dataaudit,c=e.children,l=e.type;return Object(n.useEffect)((function(){}),[t,a,l]),r.a.createElement(r.a.Fragment,null,c)},B="Checked In",F="Checked Out",I=function(){var e=Object(A.f)(),t=Object(x.a)(),a=Object(n.useContext)(P),c=Object(n.useState)(""),l=Object(h.a)(c,2),o=l[0],i=l[1],u=Object(n.useState)(""),s=Object(h.a)(u,2),d=s[0],m=s[1],b=Object(n.useState)(!0),f=Object(h.a)(b,2),E=f[0],p=f[1];Object(n.useEffect)((function(){p(!(o.length>0&&d.length>0))}),[o,d]);var O=function(){e.goBack()},j=function(e,t){return i(t)};return r.a.createElement(N.a,{open:!0,"data-id":"createPartModal"},r.a.createElement(N.a.Header,null,r.a.createElement("h3",null,"Add Parts")),r.a.createElement(N.a.Content,null,r.a.createElement(T.a,null,r.a.createElement(T.a.Field,{required:!0},r.a.createElement("label",{htmlFor:"name"},"Part Name"),r.a.createElement("input",{type:"text",id:"name",onChange:function(e){return m(e.target.value)},placeholder:"Part Name",autoComplete:"off"})),r.a.createElement(T.a.Field,{required:!0},r.a.createElement("label",{htmlFor:"status"}," Part Status "),r.a.createElement(T.a.Group,{inline:!0,id:"status"},r.a.createElement(T.a.Radio,{label:"Checked In",value:B,checked:o===B,onChange:function(e,t){var a=t.value;return j(0,a)}}),r.a.createElement(T.a.Radio,{label:"Checked Out",value:F,checked:o===F,onChange:function(e,t){var a=t.value;return j(0,a)}}))))),r.a.createElement(N.a.Actions,null,r.a.createElement(R.a,{onClick:O},"Cancel"),r.a.createElement(H,{dataid:"createPartsButton",dataaudit:{desc:"creating new Spare parts"},type:"click"},r.a.createElement(R.a,{onClick:function(){a&&a.addPart({id:t,name:d,status:o}),O()},primary:!0,disabled:E},"Save"))))},J=a(183),_=a(51),D=a(180),G="Part ID",L="Part Name",q="Part Status",U=function(e){var t=Object(n.useContext)(P),a=Object(n.useState)([]),c=Object(h.a)(a,2),l=c[0],o=c[1],i=Object(n.useReducer)((function(e,t){switch(t.type){case"CHANGE_SORT":Object(_.a)({},e);return e.column===t.column?Object(_.a)(Object(_.a)({},e),{},{data:e.data.slice().reverse(),direction:"ascending"===e.direction?"descending":"ascending"}):Object(_.a)(Object(_.a)({},e),{},{data:e.data,direction:"ascending",column:t.column});case"UPDATE_TABLE":return Object(_.a)(Object(_.a)({},e),{},{data:l});default:throw new Error}}),{column:null,data:l,direction:null}),u=Object(h.a)(i,2),s=u[0],d=u[1],m=s.column,b=s.data,f=s.direction;return Object(n.useEffect)((function(){(null===t||void 0===t?void 0:t.partsList)&&o(t.partsList.slice().reverse())}),[t]),Object(n.useEffect)((function(){d({type:"UPDATE_TABLE",data:l})}),[l]),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(D.a,{sortable:!0,celled:!0},r.a.createElement(D.a.Header,null,r.a.createElement(D.a.Row,null,r.a.createElement(D.a.HeaderCell,{sorted:m===G?f:null,onClick:function(){return d({type:"CHANGE_SORT",column:G})}},G),r.a.createElement(D.a.HeaderCell,{sorted:m===L?f:null,onClick:function(){return d({type:"CHANGE_SORT",column:L})}},L),r.a.createElement(D.a.HeaderCell,{sorted:m===q?f:null,onClick:function(){return d({type:"CHANGE_SORT",column:q})}},q))),r.a.createElement(D.a.Body,null,b.map((function(e){var t=e.id,a=e.name,n=e.status;return r.a.createElement(D.a.Row,{key:t},r.a.createElement(D.a.Cell,null,t),r.a.createElement(D.a.Cell,null,a),r.a.createElement(D.a.Cell,null,n))})))),b.length<=0&&r.a.createElement("p",{style:{verticalAlign:"center",textAlign:"center"}},"No parts to show. Please add."))},W=function(){var e=Object(A.f)();return r.a.createElement(J.a.Row,{textAlign:"left",verticalAlign:"middle"},r.a.createElement(J.a.Column,{width:12}," ",r.a.createElement("h4",null,"Welcome to Spares Inventory ")),r.a.createElement(J.a.Column,{floated:"right",width:2},r.a.createElement(R.a,{primary:!0,floated:"right",title:"Add Parts",onClick:function(){e.push("create",{modal:!0})}},"Add Parts")))},M=function(){return r.a.createElement(J.a,{padded:!0,"data-id":"homePage"},r.a.createElement(f,{type:b},r.a.createElement(W,null)),r.a.createElement(J.a.Row,null,r.a.createElement(f,{type:b},r.a.createElement(U,null))))},z=Object(A.g)((function(e){var t,a=e.location,c=e.history,l=Object(n.useRef)(a),o=!(!(null===a||void 0===a||null===(t=a.state)||void 0===t?void 0:t.modal)||l.current===a);return Object(n.useEffect)((function(){"POP"===c.action||a.state&&a.state.modal||(l.current=a)}),[a,c.action]),r.a.createElement(S,null,r.a.createElement(A.c,{location:l.current||a},r.a.createElement(A.a,{exact:!0,path:"/",component:M})),o&&r.a.createElement(A.a,{path:"/create",component:I}))})),K=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f,{type:m},r.a.createElement(S,null,r.a.createElement(z,null))))};a(164),a(165);l.a.render(r.a.createElement(o.a,null,r.a.createElement(K,null)),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.8a8080a1.chunk.js.map